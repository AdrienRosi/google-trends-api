'use strict';
var fs = require('fs');

var chai = require('chai');
var chaiAsPromised = require('chai-as-promised');
chai.use(chaiAsPromised);
var expect = chai.expect;
var assert = chai.assert;

var exampleHtml = fs.readFileSync(__dirname + '/examples/exampleHtml.html', 'utf8');
var exampleErrorHtml = fs.readFileSync(__dirname + '/examples/exampleErrorHtml.html', 'utf8');
var exampleJSON = fs.readFileSync(__dirname + '/examples/exampleJSON.json', 'utf8');
var exampleJSONTwoFields = fs.readFileSync(__dirname + '/examples/exampleJSONTwoFields.json', 'utf8');

var htmlParser = require(__dirname + '/../../lib/resources/htmlParser.js');

module.exports =
    describe('htmlParser.test.js', function() {

        describe('htmlParser.parseHtml', function() {
            it('has method', function() {
                assert.isFunction(htmlParser.parseHtml);
            });
            it('correctly parses htmlstrings', function() {
                expect(htmlParser.parseHtml(exampleHtml)).to.deep.equal(expectedHTMLOutput);
            });
            it('returns an error when quota limit reached', function() {
                expect(htmlParser.parseHtml(exampleErrorHtml)).to.be.an('error').and.have.property('message', 'Quota limit exceeded, try again later');
            });
        });

        describe('htmlParse.parseJSON', function() {
            it('has method', function() {
                assert.isFunction(htmlParser.parseJSON);
            });
            it('correctly parses JSON', function() {
                expect(htmlParser.parseJSON(exampleJSON)).to.deep.equal(expectedJSONOutput);
            });
            it('correctly parses JSON for multiple fields', function() {
                expect(htmlParser.parseJSON(exampleJSONTwoFields).length).to.equal(2);
                expect(htmlParser.parseJSON(exampleJSONTwoFields)[0].query).to.deep.equal(expectedJSONTwoFieldsOutput[0].query);
                expect(htmlParser.parseJSON(exampleJSONTwoFields)[0].values).to.deep.equal(expectedJSONTwoFieldsOutput[0].values);
                expect(htmlParser.parseJSON(exampleJSONTwoFields)[1].query).to.deep.equal(expectedJSONTwoFieldsOutput[1].query);
                expect(htmlParser.parseJSON(exampleJSONTwoFields)[1].values).to.deep.equal(expectedJSONTwoFieldsOutput[1].values);
            })
        });
    });

var expectedHTMLOutput = {
    'dog house grill': '+550%',
    'the dog house': '+160%',
    'large dog house': '+150%',
    'best house dog': '+120%',
    'house of dog': '+100%',
    'animal house': '+90%',
    'house train dog': '+90%',
    'small dog house': '+60%',
    'big dog house': '+40%',
    'build dog house': '+40%'
};

var expectedJSONOutput = [{
    "query": "oj simpson",
    "values": [{
        "date": "2004-01-01T06:00:00.000Z",
        "value": 4
    }, {
        "date": "2004-02-01T06:00:00.000Z",
        "value": 3
    }, {
        "date": "2004-03-01T06:00:00.000Z",
        "value": 3
    }, {
        "date": "2004-04-01T06:00:00.000Z",
        "value": 3
    }, {
        "date": "2004-05-01T05:00:00.000Z",
        "value": 4
    }, {
        "date": "2004-06-01T05:00:00.000Z",
        "value": 7
    }, {
        "date": "2004-07-01T05:00:00.000Z",
        "value": 2
    }, {
        "date": "2004-08-01T05:00:00.000Z",
        "value": 2
    }, {
        "date": "2004-09-01T05:00:00.000Z",
        "value": 2
    }, {
        "date": "2004-10-01T05:00:00.000Z",
        "value": 4
    }, {
        "date": "2004-11-01T06:00:00.000Z",
        "value": 3
    }, {
        "date": "2004-12-01T06:00:00.000Z",
        "value": 3
    }, {
        "date": "2005-01-01T06:00:00.000Z",
        "value": 3
    }, {
        "date": "2005-02-01T06:00:00.000Z",
        "value": 2
    }, {
        "date": "2005-03-01T06:00:00.000Z",
        "value": 4
    }, {
        "date": "2005-04-01T06:00:00.000Z",
        "value": 3
    }, {
        "date": "2005-05-01T05:00:00.000Z",
        "value": 3
    }, {
        "date": "2005-06-01T05:00:00.000Z",
        "value": 4
    }, {
        "date": "2005-07-01T05:00:00.000Z",
        "value": 2
    }, {
        "date": "2005-08-01T05:00:00.000Z",
        "value": 2
    }, {
        "date": "2005-09-01T05:00:00.000Z",
        "value": 2
    }, {
        "date": "2005-10-01T05:00:00.000Z",
        "value": 3
    }, {
        "date": "2005-11-01T06:00:00.000Z",
        "value": 3
    }, {
        "date": "2005-12-01T06:00:00.000Z",
        "value": 3
    }, {
        "date": "2006-01-01T06:00:00.000Z",
        "value": 3
    }, {
        "date": "2006-02-01T06:00:00.000Z",
        "value": 3
    }, {
        "date": "2006-03-01T06:00:00.000Z",
        "value": 2
    }, {
        "date": "2006-04-01T06:00:00.000Z",
        "value": 2
    }, {
        "date": "2006-05-01T05:00:00.000Z",
        "value": 3
    }, {
        "date": "2006-06-01T05:00:00.000Z",
        "value": 4
    }, {
        "date": "2006-07-01T05:00:00.000Z",
        "value": 2
    }, {
        "date": "2006-08-01T05:00:00.000Z",
        "value": 3
    }, {
        "date": "2006-09-01T05:00:00.000Z",
        "value": 3
    }, {
        "date": "2006-10-01T05:00:00.000Z",
        "value": 2
    }, {
        "date": "2006-11-01T06:00:00.000Z",
        "value": 19
    }, {
        "date": "2006-12-01T06:00:00.000Z",
        "value": 3
    }, {
        "date": "2007-01-01T06:00:00.000Z",
        "value": 3
    }, {
        "date": "2007-02-01T06:00:00.000Z",
        "value": 3
    }, {
        "date": "2007-03-01T06:00:00.000Z",
        "value": 3
    }, {
        "date": "2007-04-01T05:00:00.000Z",
        "value": 2
    }, {
        "date": "2007-05-01T05:00:00.000Z",
        "value": 4
    }, {
        "date": "2007-06-01T05:00:00.000Z",
        "value": 3
    }, {
        "date": "2007-07-01T05:00:00.000Z",
        "value": 2
    }, {
        "date": "2007-08-01T05:00:00.000Z",
        "value": 4
    }, {
        "date": "2007-09-01T05:00:00.000Z",
        "value": 26
    }, {
        "date": "2007-10-01T05:00:00.000Z",
        "value": 5
    }, {
        "date": "2007-11-01T05:00:00.000Z",
        "value": 6
    }, {
        "date": "2007-12-01T06:00:00.000Z",
        "value": 3
    }, {
        "date": "2008-01-01T06:00:00.000Z",
        "value": 4
    }, {
        "date": "2008-02-01T06:00:00.000Z",
        "value": 3
    }, {
        "date": "2008-03-01T06:00:00.000Z",
        "value": 2
    }, {
        "date": "2008-04-01T05:00:00.000Z",
        "value": 3
    }, {
        "date": "2008-05-01T05:00:00.000Z",
        "value": 4
    }, {
        "date": "2008-06-01T05:00:00.000Z",
        "value": 2
    }, {
        "date": "2008-07-01T05:00:00.000Z",
        "value": 2
    }, {
        "date": "2008-08-01T05:00:00.000Z",
        "value": 2
    }, {
        "date": "2008-09-01T05:00:00.000Z",
        "value": 6
    }, {
        "date": "2008-10-01T05:00:00.000Z",
        "value": 17
    }, {
        "date": "2008-11-01T05:00:00.000Z",
        "value": 3
    }, {
        "date": "2008-12-01T06:00:00.000Z",
        "value": 18
    }, {
        "date": "2009-01-01T06:00:00.000Z",
        "value": 3
    }, {
        "date": "2009-02-01T06:00:00.000Z",
        "value": 2
    }, {
        "date": "2009-03-01T06:00:00.000Z",
        "value": 4
    }, {
        "date": "2009-04-01T05:00:00.000Z",
        "value": 4
    }, {
        "date": "2009-05-01T05:00:00.000Z",
        "value": 3
    }, {
        "date": "2009-06-01T05:00:00.000Z",
        "value": 3
    }, {
        "date": "2009-07-01T05:00:00.000Z",
        "value": 4
    }, {
        "date": "2009-08-01T05:00:00.000Z",
        "value": 3
    }, {
        "date": "2009-09-01T05:00:00.000Z",
        "value": 3
    }, {
        "date": "2009-10-01T05:00:00.000Z",
        "value": 2
    }, {
        "date": "2009-11-01T05:00:00.000Z",
        "value": 3
    }, {
        "date": "2009-12-01T06:00:00.000Z",
        "value": 4
    }, {
        "date": "2010-01-01T06:00:00.000Z",
        "value": 3
    }, {
        "date": "2010-02-01T06:00:00.000Z",
        "value": 3
    }, {
        "date": "2010-03-01T06:00:00.000Z",
        "value": 4
    }, {
        "date": "2010-04-01T05:00:00.000Z",
        "value": 3
    }, {
        "date": "2010-05-01T05:00:00.000Z",
        "value": 3
    }, {
        "date": "2010-06-01T05:00:00.000Z",
        "value": 4
    }, {
        "date": "2010-07-01T05:00:00.000Z",
        "value": 4
    }, {
        "date": "2010-08-01T05:00:00.000Z",
        "value": 3
    }, {
        "date": "2010-09-01T05:00:00.000Z",
        "value": 4
    }, {
        "date": "2010-10-01T05:00:00.000Z",
        "value": 4
    }, {
        "date": "2010-11-01T05:00:00.000Z",
        "value": 4
    }, {
        "date": "2010-12-01T06:00:00.000Z",
        "value": 4
    }, {
        "date": "2011-01-01T06:00:00.000Z",
        "value": 4
    }, {
        "date": "2011-02-01T06:00:00.000Z",
        "value": 6
    }, {
        "date": "2011-03-01T06:00:00.000Z",
        "value": 3
    }, {
        "date": "2011-04-01T05:00:00.000Z",
        "value": 3
    }, {
        "date": "2011-05-01T05:00:00.000Z",
        "value": 4
    }, {
        "date": "2011-06-01T05:00:00.000Z",
        "value": 9
    }, {
        "date": "2011-07-01T05:00:00.000Z",
        "value": 12
    }, {
        "date": "2011-08-01T05:00:00.000Z",
        "value": 4
    }, {
        "date": "2011-09-01T05:00:00.000Z",
        "value": 4
    }, {
        "date": "2011-10-01T05:00:00.000Z",
        "value": 5
    }, {
        "date": "2011-11-01T05:00:00.000Z",
        "value": 5
    }, {
        "date": "2011-12-01T06:00:00.000Z",
        "value": 4
    }, {
        "date": "2012-01-01T06:00:00.000Z",
        "value": 8
    }, {
        "date": "2012-02-01T06:00:00.000Z",
        "value": 4
    }, {
        "date": "2012-03-01T06:00:00.000Z",
        "value": 4
    }, {
        "date": "2012-04-01T05:00:00.000Z",
        "value": 5
    }, {
        "date": "2012-05-01T05:00:00.000Z",
        "value": 4
    }, {
        "date": "2012-06-01T05:00:00.000Z",
        "value": 5
    }, {
        "date": "2012-07-01T05:00:00.000Z",
        "value": 4
    }, {
        "date": "2012-08-01T05:00:00.000Z",
        "value": 4
    }, {
        "date": "2012-09-01T05:00:00.000Z",
        "value": 7
    }, {
        "date": "2012-10-01T05:00:00.000Z",
        "value": 5
    }, {
        "date": "2012-11-01T05:00:00.000Z",
        "value": 6
    }, {
        "date": "2012-12-01T06:00:00.000Z",
        "value": 5
    }, {
        "date": "2013-01-01T06:00:00.000Z",
        "value": 5
    }, {
        "date": "2013-02-01T06:00:00.000Z",
        "value": 6
    }, {
        "date": "2013-03-01T06:00:00.000Z",
        "value": 4
    }, {
        "date": "2013-04-01T05:00:00.000Z",
        "value": 4
    }, {
        "date": "2013-05-01T05:00:00.000Z",
        "value": 11
    }, {
        "date": "2013-06-01T05:00:00.000Z",
        "value": 5
    }, {
        "date": "2013-07-01T05:00:00.000Z",
        "value": 10
    }, {
        "date": "2013-08-01T05:00:00.000Z",
        "value": 5
    }, {
        "date": "2013-09-01T05:00:00.000Z",
        "value": 5
    }, {
        "date": "2013-10-01T05:00:00.000Z",
        "value": 4
    }, {
        "date": "2013-11-01T05:00:00.000Z",
        "value": 5
    }, {
        "date": "2013-12-01T06:00:00.000Z",
        "value": 4
    }, {
        "date": "2014-01-01T06:00:00.000Z",
        "value": 5
    }, {
        "date": "2014-02-01T06:00:00.000Z",
        "value": 4
    }, {
        "date": "2014-03-01T06:00:00.000Z",
        "value": 5
    }, {
        "date": "2014-04-01T05:00:00.000Z",
        "value": 4
    }, {
        "date": "2014-05-01T05:00:00.000Z",
        "value": 4
    }, {
        "date": "2014-06-01T05:00:00.000Z",
        "value": 15
    }, {
        "date": "2014-07-01T05:00:00.000Z",
        "value": 5
    }, {
        "date": "2014-08-01T05:00:00.000Z",
        "value": 4
    }, {
        "date": "2014-09-01T05:00:00.000Z",
        "value": 5
    }, {
        "date": "2014-10-01T05:00:00.000Z",
        "value": 6
    }, {
        "date": "2014-11-01T05:00:00.000Z",
        "value": 5
    }, {
        "date": "2014-12-01T06:00:00.000Z",
        "value": 4
    }, {
        "date": "2015-01-01T06:00:00.000Z",
        "value": 6
    }, {
        "date": "2015-02-01T06:00:00.000Z",
        "value": 5
    }, {
        "date": "2015-03-01T06:00:00.000Z",
        "value": 4
    }, {
        "date": "2015-04-01T05:00:00.000Z",
        "value": 5
    }, {
        "date": "2015-05-01T05:00:00.000Z",
        "value": 6
    }, {
        "date": "2015-06-01T05:00:00.000Z",
        "value": 6
    }, {
        "date": "2015-07-01T05:00:00.000Z",
        "value": 4
    }, {
        "date": "2015-08-01T05:00:00.000Z",
        "value": 4
    }, {
        "date": "2015-09-01T05:00:00.000Z",
        "value": 10
    }, {
        "date": "2015-10-01T05:00:00.000Z",
        "value": 17
    }, {
        "date": "2015-11-01T05:00:00.000Z",
        "value": 7
    }, {
        "date": "2015-12-01T06:00:00.000Z",
        "value": 9
    }, {
        "date": "2016-01-01T06:00:00.000Z",
        "value": 19
    }, {
        "date": "2016-02-01T06:00:00.000Z",
        "value": 100
    }, {
        "date": "2016-03-01T06:00:00.000Z",
        "value": 74
    }, {
        "date": "2016-04-01T05:00:00.000Z",
        "value": 41
    }, {
        "date": "2016-05-01T05:00:00.000Z",
        "value": 17
    }, {
        "date": "2016-06-01T05:00:00.000Z",
        "value": 40
    }, {
        "date": "2016-07-01T05:00:00.000Z",
        "value": 16
    }, {
        "date": "2016-08-01T05:00:00.000Z",
        "value": 9
    }]
}];

var expectedJSONTwoFieldsOutput = [{
    "query": "swimming",
    "values": [{
        "date": "2004-01-01T06:00:00.000Z",
        "value": 5
    }, {
        "date": "2004-02-01T06:00:00.000Z",
        "value": 5
    }, {
        "date": "2004-03-01T06:00:00.000Z",
        "value": 5
    }, {
        "date": "2004-04-01T06:00:00.000Z",
        "value": 5
    }, {
        "date": "2004-05-01T05:00:00.000Z",
        "value": 5
    }, {
        "date": "2004-06-01T05:00:00.000Z",
        "value": 6
    }, {
        "date": "2004-07-01T05:00:00.000Z",
        "value": 7
    }, {
        "date": "2004-08-01T05:00:00.000Z",
        "value": 8
    }, {
        "date": "2004-09-01T05:00:00.000Z",
        "value": 5
    }, {
        "date": "2004-10-01T05:00:00.000Z",
        "value": 4
    }, {
        "date": "2004-11-01T06:00:00.000Z",
        "value": 3
    }, {
        "date": "2004-12-01T06:00:00.000Z",
        "value": 3
    }, {
        "date": "2005-01-01T06:00:00.000Z",
        "value": 4
    }, {
        "date": "2005-02-01T06:00:00.000Z",
        "value": 5
    }, {
        "date": "2005-03-01T06:00:00.000Z",
        "value": 4
    }, {
        "date": "2005-04-01T06:00:00.000Z",
        "value": 4
    }, {
        "date": "2005-05-01T05:00:00.000Z",
        "value": 5
    }, {
        "date": "2005-06-01T05:00:00.000Z",
        "value": 6
    }, {
        "date": "2005-07-01T05:00:00.000Z",
        "value": 6
    }, {
        "date": "2005-08-01T05:00:00.000Z",
        "value": 5
    }, {
        "date": "2005-09-01T05:00:00.000Z",
        "value": 4
    }, {
        "date": "2005-10-01T05:00:00.000Z",
        "value": 4
    }, {
        "date": "2005-11-01T06:00:00.000Z",
        "value": 3
    }, {
        "date": "2005-12-01T06:00:00.000Z",
        "value": 3
    }, {
        "date": "2006-01-01T06:00:00.000Z",
        "value": 4
    }, {
        "date": "2006-02-01T06:00:00.000Z",
        "value": 4
    }, {
        "date": "2006-03-01T06:00:00.000Z",
        "value": 4
    }, {
        "date": "2006-04-01T06:00:00.000Z",
        "value": 4
    }, {
        "date": "2006-05-01T05:00:00.000Z",
        "value": 5
    }, {
        "date": "2006-06-01T05:00:00.000Z",
        "value": 5
    }, {
        "date": "2006-07-01T05:00:00.000Z",
        "value": 6
    }, {
        "date": "2006-08-01T05:00:00.000Z",
        "value": 4
    }, {
        "date": "2006-09-01T05:00:00.000Z",
        "value": 4
    }, {
        "date": "2006-10-01T05:00:00.000Z",
        "value": 3
    }, {
        "date": "2006-11-01T06:00:00.000Z",
        "value": 3
    }, {
        "date": "2006-12-01T06:00:00.000Z",
        "value": 3
    }, {
        "date": "2007-01-01T06:00:00.000Z",
        "value": 4
    }, {
        "date": "2007-02-01T06:00:00.000Z",
        "value": 4
    }, {
        "date": "2007-03-01T06:00:00.000Z",
        "value": 4
    }, {
        "date": "2007-04-01T05:00:00.000Z",
        "value": 4
    }, {
        "date": "2007-05-01T05:00:00.000Z",
        "value": 4
    }, {
        "date": "2007-06-01T05:00:00.000Z",
        "value": 5
    }, {
        "date": "2007-07-01T05:00:00.000Z",
        "value": 5
    }, {
        "date": "2007-08-01T05:00:00.000Z",
        "value": 4
    }, {
        "date": "2007-09-01T05:00:00.000Z",
        "value": 3
    }, {
        "date": "2007-10-01T05:00:00.000Z",
        "value": 3
    }, {
        "date": "2007-11-01T05:00:00.000Z",
        "value": 3
    }, {
        "date": "2007-12-01T06:00:00.000Z",
        "value": 3
    }, {
        "date": "2008-01-01T06:00:00.000Z",
        "value": 4
    }, {
        "date": "2008-02-01T06:00:00.000Z",
        "value": 4
    }, {
        "date": "2008-03-01T06:00:00.000Z",
        "value": 4
    }, {
        "date": "2008-04-01T05:00:00.000Z",
        "value": 4
    }, {
        "date": "2008-05-01T05:00:00.000Z",
        "value": 4
    }, {
        "date": "2008-06-01T05:00:00.000Z",
        "value": 5
    }, {
        "date": "2008-07-01T05:00:00.000Z",
        "value": 5
    }, {
        "date": "2008-08-01T05:00:00.000Z",
        "value": 7
    }, {
        "date": "2008-09-01T05:00:00.000Z",
        "value": 3
    }, {
        "date": "2008-10-01T05:00:00.000Z",
        "value": 3
    }, {
        "date": "2008-11-01T05:00:00.000Z",
        "value": 3
    }, {
        "date": "2008-12-01T06:00:00.000Z",
        "value": 3
    }, {
        "date": "2009-01-01T06:00:00.000Z",
        "value": 3
    }, {
        "date": "2009-02-01T06:00:00.000Z",
        "value": 4
    }, {
        "date": "2009-03-01T06:00:00.000Z",
        "value": 4
    }, {
        "date": "2009-04-01T05:00:00.000Z",
        "value": 4
    }, {
        "date": "2009-05-01T05:00:00.000Z",
        "value": 4
    }, {
        "date": "2009-06-01T05:00:00.000Z",
        "value": 5
    }, {
        "date": "2009-07-01T05:00:00.000Z",
        "value": 5
    }, {
        "date": "2009-08-01T05:00:00.000Z",
        "value": 4
    }, {
        "date": "2009-09-01T05:00:00.000Z",
        "value": 3
    }, {
        "date": "2009-10-01T05:00:00.000Z",
        "value": 3
    }, {
        "date": "2009-11-01T05:00:00.000Z",
        "value": 3
    }, {
        "date": "2009-12-01T06:00:00.000Z",
        "value": 2
    }, {
        "date": "2010-01-01T06:00:00.000Z",
        "value": 3
    }, {
        "date": "2010-02-01T06:00:00.000Z",
        "value": 3
    }, {
        "date": "2010-03-01T06:00:00.000Z",
        "value": 3
    }, {
        "date": "2010-04-01T05:00:00.000Z",
        "value": 3
    }, {
        "date": "2010-05-01T05:00:00.000Z",
        "value": 4
    }, {
        "date": "2010-06-01T05:00:00.000Z",
        "value": 5
    }, {
        "date": "2010-07-01T05:00:00.000Z",
        "value": 5
    }, {
        "date": "2010-08-01T05:00:00.000Z",
        "value": 5
    }, {
        "date": "2010-09-01T05:00:00.000Z",
        "value": 3
    }, {
        "date": "2010-10-01T05:00:00.000Z",
        "value": 3
    }, {
        "date": "2010-11-01T05:00:00.000Z",
        "value": 3
    }, {
        "date": "2010-12-01T06:00:00.000Z",
        "value": 2
    }, {
        "date": "2011-01-01T06:00:00.000Z",
        "value": 3
    }, {
        "date": "2011-02-01T06:00:00.000Z",
        "value": 3
    }, {
        "date": "2011-03-01T06:00:00.000Z",
        "value": 3
    }, {
        "date": "2011-04-01T05:00:00.000Z",
        "value": 3
    }, {
        "date": "2011-05-01T05:00:00.000Z",
        "value": 4
    }, {
        "date": "2011-06-01T05:00:00.000Z",
        "value": 5
    }, {
        "date": "2011-07-01T05:00:00.000Z",
        "value": 5
    }, {
        "date": "2011-08-01T05:00:00.000Z",
        "value": 4
    }, {
        "date": "2011-09-01T05:00:00.000Z",
        "value": 3
    }, {
        "date": "2011-10-01T05:00:00.000Z",
        "value": 3
    }, {
        "date": "2011-11-01T05:00:00.000Z",
        "value": 3
    }, {
        "date": "2011-12-01T06:00:00.000Z",
        "value": 2
    }, {
        "date": "2012-01-01T06:00:00.000Z",
        "value": 3
    }, {
        "date": "2012-02-01T06:00:00.000Z",
        "value": 3
    }, {
        "date": "2012-03-01T06:00:00.000Z",
        "value": 4
    }, {
        "date": "2012-04-01T05:00:00.000Z",
        "value": 4
    }, {
        "date": "2012-05-01T05:00:00.000Z",
        "value": 4
    }, {
        "date": "2012-06-01T05:00:00.000Z",
        "value": 5
    }, {
        "date": "2012-07-01T05:00:00.000Z",
        "value": 7
    }, {
        "date": "2012-08-01T05:00:00.000Z",
        "value": 7
    }, {
        "date": "2012-09-01T05:00:00.000Z",
        "value": 4
    }, {
        "date": "2012-10-01T05:00:00.000Z",
        "value": 3
    }, {
        "date": "2012-11-01T05:00:00.000Z",
        "value": 3
    }, {
        "date": "2012-12-01T06:00:00.000Z",
        "value": 3
    }, {
        "date": "2013-01-01T06:00:00.000Z",
        "value": 4
    }, {
        "date": "2013-02-01T06:00:00.000Z",
        "value": 4
    }, {
        "date": "2013-03-01T06:00:00.000Z",
        "value": 4
    }, {
        "date": "2013-04-01T05:00:00.000Z",
        "value": 4
    }, {
        "date": "2013-05-01T05:00:00.000Z",
        "value": 4
    }, {
        "date": "2013-06-01T05:00:00.000Z",
        "value": 5
    }, {
        "date": "2013-07-01T05:00:00.000Z",
        "value": 6
    }, {
        "date": "2013-08-01T05:00:00.000Z",
        "value": 4
    }, {
        "date": "2013-09-01T05:00:00.000Z",
        "value": 3
    }, {
        "date": "2013-10-01T05:00:00.000Z",
        "value": 3
    }, {
        "date": "2013-11-01T05:00:00.000Z",
        "value": 3
    }, {
        "date": "2013-12-01T06:00:00.000Z",
        "value": 3
    }, {
        "date": "2014-01-01T06:00:00.000Z",
        "value": 3
    }, {
        "date": "2014-02-01T06:00:00.000Z",
        "value": 4
    }, {
        "date": "2014-03-01T06:00:00.000Z",
        "value": 4
    }, {
        "date": "2014-04-01T05:00:00.000Z",
        "value": 4
    }, {
        "date": "2014-05-01T05:00:00.000Z",
        "value": 4
    }, {
        "date": "2014-06-01T05:00:00.000Z",
        "value": 5
    }, {
        "date": "2014-07-01T05:00:00.000Z",
        "value": 5
    }, {
        "date": "2014-08-01T05:00:00.000Z",
        "value": 4
    }, {
        "date": "2014-09-01T05:00:00.000Z",
        "value": 3
    }, {
        "date": "2014-10-01T05:00:00.000Z",
        "value": 3
    }, {
        "date": "2014-11-01T05:00:00.000Z",
        "value": 3
    }, {
        "date": "2014-12-01T06:00:00.000Z",
        "value": 2
    }, {
        "date": "2015-01-01T06:00:00.000Z",
        "value": 3
    }, {
        "date": "2015-02-01T06:00:00.000Z",
        "value": 3
    }, {
        "date": "2015-03-01T06:00:00.000Z",
        "value": 3
    }, {
        "date": "2015-04-01T05:00:00.000Z",
        "value": 4
    }, {
        "date": "2015-05-01T05:00:00.000Z",
        "value": 4
    }, {
        "date": "2015-06-01T05:00:00.000Z",
        "value": 5
    }, {
        "date": "2015-07-01T05:00:00.000Z",
        "value": 5
    }, {
        "date": "2015-08-01T05:00:00.000Z",
        "value": 5
    }, {
        "date": "2015-09-01T05:00:00.000Z",
        "value": 3
    }, {
        "date": "2015-10-01T05:00:00.000Z",
        "value": 3
    }, {
        "date": "2015-11-01T05:00:00.000Z",
        "value": 3
    }, {
        "date": "2015-12-01T06:00:00.000Z",
        "value": 3
    }, {
        "date": "2016-01-01T06:00:00.000Z",
        "value": 4
    }, {
        "date": "2016-02-01T06:00:00.000Z",
        "value": 4
    }, {
        "date": "2016-03-01T06:00:00.000Z",
        "value": 4
    }, {
        "date": "2016-04-01T05:00:00.000Z",
        "value": 4
    }, {
        "date": "2016-05-01T05:00:00.000Z",
        "value": 4
    }, {
        "date": "2016-06-01T05:00:00.000Z",
        "value": 6
    }, {
        "date": "2016-07-01T05:00:00.000Z",
        "value": 6
    }, {
        "date": "2016-08-01T05:00:00.000Z",
        "value": 10
    }]
}, {
    "query": "olympics",
    "values": [{
        "date": "2004-01-01T06:00:00.000Z",
        "value": 2
    }, {
        "date": "2004-02-01T06:00:00.000Z",
        "value": 3
    }, {
        "date": "2004-03-01T06:00:00.000Z",
        "value": 3
    }, {
        "date": "2004-04-01T06:00:00.000Z",
        "value": 3
    }, {
        "date": "2004-05-01T05:00:00.000Z",
        "value": 4
    }, {
        "date": "2004-06-01T05:00:00.000Z",
        "value": 4
    }, {
        "date": "2004-07-01T05:00:00.000Z",
        "value": 6
    }, {
        "date": "2004-08-01T05:00:00.000Z",
        "value": 47
    }, {
        "date": "2004-09-01T05:00:00.000Z",
        "value": 6
    }, {
        "date": "2004-10-01T05:00:00.000Z",
        "value": 2
    }, {
        "date": "2004-11-01T06:00:00.000Z",
        "value": 2
    }, {
        "date": "2004-12-01T06:00:00.000Z",
        "value": 2
    }, {
        "date": "2005-01-01T06:00:00.000Z",
        "value": 2
    }, {
        "date": "2005-02-01T06:00:00.000Z",
        "value": 2
    }, {
        "date": "2005-03-01T06:00:00.000Z",
        "value": 2
    }, {
        "date": "2005-04-01T06:00:00.000Z",
        "value": 2
    }, {
        "date": "2005-05-01T05:00:00.000Z",
        "value": 2
    }, {
        "date": "2005-06-01T05:00:00.000Z",
        "value": 2
    }, {
        "date": "2005-07-01T05:00:00.000Z",
        "value": 4
    }, {
        "date": "2005-08-01T05:00:00.000Z",
        "value": 1
    }, {
        "date": "2005-09-01T05:00:00.000Z",
        "value": 2
    }, {
        "date": "2005-10-01T05:00:00.000Z",
        "value": 2
    }, {
        "date": "2005-11-01T06:00:00.000Z",
        "value": 2
    }, {
        "date": "2005-12-01T06:00:00.000Z",
        "value": 2
    }, {
        "date": "2006-01-01T06:00:00.000Z",
        "value": 4
    }, {
        "date": "2006-02-01T06:00:00.000Z",
        "value": 27
    }, {
        "date": "2006-03-01T06:00:00.000Z",
        "value": 3
    }, {
        "date": "2006-04-01T06:00:00.000Z",
        "value": 2
    }, {
        "date": "2006-05-01T05:00:00.000Z",
        "value": 2
    }, {
        "date": "2006-06-01T05:00:00.000Z",
        "value": 1
    }, {
        "date": "2006-07-01T05:00:00.000Z",
        "value": 1
    }, {
        "date": "2006-08-01T05:00:00.000Z",
        "value": 1
    }, {
        "date": "2006-09-01T05:00:00.000Z",
        "value": 1
    }, {
        "date": "2006-10-01T05:00:00.000Z",
        "value": 1
    }, {
        "date": "2006-11-01T06:00:00.000Z",
        "value": 1
    }, {
        "date": "2006-12-01T06:00:00.000Z",
        "value": 1
    }, {
        "date": "2007-01-01T06:00:00.000Z",
        "value": 1
    }, {
        "date": "2007-02-01T06:00:00.000Z",
        "value": 1
    }, {
        "date": "2007-03-01T06:00:00.000Z",
        "value": 2
    }, {
        "date": "2007-04-01T05:00:00.000Z",
        "value": 2
    }, {
        "date": "2007-05-01T05:00:00.000Z",
        "value": 1
    }, {
        "date": "2007-06-01T05:00:00.000Z",
        "value": 2
    }, {
        "date": "2007-07-01T05:00:00.000Z",
        "value": 1
    }, {
        "date": "2007-08-01T05:00:00.000Z",
        "value": 1
    }, {
        "date": "2007-09-01T05:00:00.000Z",
        "value": 1
    }, {
        "date": "2007-10-01T05:00:00.000Z",
        "value": 2
    }, {
        "date": "2007-11-01T05:00:00.000Z",
        "value": 2
    }, {
        "date": "2007-12-01T06:00:00.000Z",
        "value": 3
    }, {
        "date": "2008-01-01T06:00:00.000Z",
        "value": 3
    }, {
        "date": "2008-02-01T06:00:00.000Z",
        "value": 3
    }, {
        "date": "2008-03-01T06:00:00.000Z",
        "value": 3
    }, {
        "date": "2008-04-01T05:00:00.000Z",
        "value": 3
    }, {
        "date": "2008-05-01T05:00:00.000Z",
        "value": 3
    }, {
        "date": "2008-06-01T05:00:00.000Z",
        "value": 3
    }, {
        "date": "2008-07-01T05:00:00.000Z",
        "value": 5
    }, {
        "date": "2008-08-01T05:00:00.000Z",
        "value": 60
    }, {
        "date": "2008-09-01T05:00:00.000Z",
        "value": 4
    }, {
        "date": "2008-10-01T05:00:00.000Z",
        "value": 2
    }, {
        "date": "2008-11-01T05:00:00.000Z",
        "value": 2
    }, {
        "date": "2008-12-01T06:00:00.000Z",
        "value": 2
    }, {
        "date": "2009-01-01T06:00:00.000Z",
        "value": 2
    }, {
        "date": "2009-02-01T06:00:00.000Z",
        "value": 2
    }, {
        "date": "2009-03-01T06:00:00.000Z",
        "value": 2
    }, {
        "date": "2009-04-01T05:00:00.000Z",
        "value": 2
    }, {
        "date": "2009-05-01T05:00:00.000Z",
        "value": 2
    }, {
        "date": "2009-06-01T05:00:00.000Z",
        "value": 2
    }, {
        "date": "2009-07-01T05:00:00.000Z",
        "value": 1
    }, {
        "date": "2009-08-01T05:00:00.000Z",
        "value": 2
    }, {
        "date": "2009-09-01T05:00:00.000Z",
        "value": 2
    }, {
        "date": "2009-10-01T05:00:00.000Z",
        "value": 3
    }, {
        "date": "2009-11-01T05:00:00.000Z",
        "value": 2
    }, {
        "date": "2009-12-01T06:00:00.000Z",
        "value": 2
    }, {
        "date": "2010-01-01T06:00:00.000Z",
        "value": 4
    }, {
        "date": "2010-02-01T06:00:00.000Z",
        "value": 37
    }, {
        "date": "2010-03-01T06:00:00.000Z",
        "value": 5
    }, {
        "date": "2010-04-01T05:00:00.000Z",
        "value": 2
    }, {
        "date": "2010-05-01T05:00:00.000Z",
        "value": 2
    }, {
        "date": "2010-06-01T05:00:00.000Z",
        "value": 1
    }, {
        "date": "2010-07-01T05:00:00.000Z",
        "value": 1
    }, {
        "date": "2010-08-01T05:00:00.000Z",
        "value": 1
    }, {
        "date": "2010-09-01T05:00:00.000Z",
        "value": 1
    }, {
        "date": "2010-10-01T05:00:00.000Z",
        "value": 1
    }, {
        "date": "2010-11-01T05:00:00.000Z",
        "value": 1
    }, {
        "date": "2010-12-01T06:00:00.000Z",
        "value": 1
    }, {
        "date": "2011-01-01T06:00:00.000Z",
        "value": 1
    }, {
        "date": "2011-02-01T06:00:00.000Z",
        "value": 2
    }, {
        "date": "2011-03-01T06:00:00.000Z",
        "value": 2
    }, {
        "date": "2011-04-01T05:00:00.000Z",
        "value": 2
    }, {
        "date": "2011-05-01T05:00:00.000Z",
        "value": 1
    }, {
        "date": "2011-06-01T05:00:00.000Z",
        "value": 2
    }, {
        "date": "2011-07-01T05:00:00.000Z",
        "value": 2
    }, {
        "date": "2011-08-01T05:00:00.000Z",
        "value": 1
    }, {
        "date": "2011-09-01T05:00:00.000Z",
        "value": 1
    }, {
        "date": "2011-10-01T05:00:00.000Z",
        "value": 1
    }, {
        "date": "2011-11-01T05:00:00.000Z",
        "value": 1
    }, {
        "date": "2011-12-01T06:00:00.000Z",
        "value": 1
    }, {
        "date": "2012-01-01T06:00:00.000Z",
        "value": 2
    }, {
        "date": "2012-02-01T06:00:00.000Z",
        "value": 2
    }, {
        "date": "2012-03-01T06:00:00.000Z",
        "value": 3
    }, {
        "date": "2012-04-01T05:00:00.000Z",
        "value": 3
    }, {
        "date": "2012-05-01T05:00:00.000Z",
        "value": 4
    }, {
        "date": "2012-06-01T05:00:00.000Z",
        "value": 6
    }, {
        "date": "2012-07-01T05:00:00.000Z",
        "value": 40
    }, {
        "date": "2012-08-01T05:00:00.000Z",
        "value": 59
    }, {
        "date": "2012-09-01T05:00:00.000Z",
        "value": 4
    }, {
        "date": "2012-10-01T05:00:00.000Z",
        "value": 2
    }, {
        "date": "2012-11-01T05:00:00.000Z",
        "value": 2
    }, {
        "date": "2012-12-01T06:00:00.000Z",
        "value": 1
    }, {
        "date": "2013-01-01T06:00:00.000Z",
        "value": 1
    }, {
        "date": "2013-02-01T06:00:00.000Z",
        "value": 1
    }, {
        "date": "2013-03-01T06:00:00.000Z",
        "value": 1
    }, {
        "date": "2013-04-01T05:00:00.000Z",
        "value": 1
    }, {
        "date": "2013-05-01T05:00:00.000Z",
        "value": 1
    }, {
        "date": "2013-06-01T05:00:00.000Z",
        "value": 1
    }, {
        "date": "2013-07-01T05:00:00.000Z",
        "value": 1
    }, {
        "date": "2013-08-01T05:00:00.000Z",
        "value": 1
    }, {
        "date": "2013-09-01T05:00:00.000Z",
        "value": 1
    }, {
        "date": "2013-10-01T05:00:00.000Z",
        "value": 1
    }, {
        "date": "2013-11-01T05:00:00.000Z",
        "value": 1
    }, {
        "date": "2013-12-01T06:00:00.000Z",
        "value": 1
    }, {
        "date": "2014-01-01T06:00:00.000Z",
        "value": 4
    }, {
        "date": "2014-02-01T06:00:00.000Z",
        "value": 32
    }, {
        "date": "2014-03-01T06:00:00.000Z",
        "value": 2
    }, {
        "date": "2014-04-01T05:00:00.000Z",
        "value": 1
    }, {
        "date": "2014-05-01T05:00:00.000Z",
        "value": 1
    }, {
        "date": "2014-06-01T05:00:00.000Z",
        "value": 1
    }, {
        "date": "2014-07-01T05:00:00.000Z",
        "value": 1
    }, {
        "date": "2014-08-01T05:00:00.000Z",
        "value": 1
    }, {
        "date": "2014-09-01T05:00:00.000Z",
        "value": 1
    }, {
        "date": "2014-10-01T05:00:00.000Z",
        "value": 1
    }, {
        "date": "2014-11-01T05:00:00.000Z",
        "value": 1
    }, {
        "date": "2014-12-01T06:00:00.000Z",
        "value": 1
    }, {
        "date": "2015-01-01T06:00:00.000Z",
        "value": 1
    }, {
        "date": "2015-02-01T06:00:00.000Z",
        "value": 1
    }, {
        "date": "2015-03-01T06:00:00.000Z",
        "value": 1
    }, {
        "date": "2015-04-01T05:00:00.000Z",
        "value": 1
    }, {
        "date": "2015-05-01T05:00:00.000Z",
        "value": 1
    }, {
        "date": "2015-06-01T05:00:00.000Z",
        "value": 1
    }, {
        "date": "2015-07-01T05:00:00.000Z",
        "value": 2
    }, {
        "date": "2015-08-01T05:00:00.000Z",
        "value": 1
    }, {
        "date": "2015-09-01T05:00:00.000Z",
        "value": 1
    }, {
        "date": "2015-10-01T05:00:00.000Z",
        "value": 1
    }, {
        "date": "2015-11-01T05:00:00.000Z",
        "value": 1
    }, {
        "date": "2015-12-01T06:00:00.000Z",
        "value": 1
    }, {
        "date": "2016-01-01T06:00:00.000Z",
        "value": 1
    }, {
        "date": "2016-02-01T06:00:00.000Z",
        "value": 1
    }, {
        "date": "2016-03-01T06:00:00.000Z",
        "value": 1
    }, {
        "date": "2016-04-01T05:00:00.000Z",
        "value": 2
    }, {
        "date": "2016-05-01T05:00:00.000Z",
        "value": 2
    }, {
        "date": "2016-06-01T05:00:00.000Z",
        "value": 3
    }, {
        "date": "2016-07-01T05:00:00.000Z",
        "value": 5
    }, {
        "date": "2016-08-01T05:00:00.000Z",
        "value": 100
    }]
}];
